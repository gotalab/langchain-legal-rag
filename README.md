# 契約書RAGシステム

## 概要
このプロジェクトは、契約書PDFに対する質問応答を行うRAG（Retrieval Augmented Generation）システムです。
ディレクトリ構成は整理中です。

## 主な機能
- 契約書PDFからのテキスト抽出と前処理
- ハイブリッドな検索システム（BM25 + ベクトル検索）
- 日本語に最適化された応答生成

## 技術スタック
- LangChain
- OpenAI API (GPT-4o & Embedding)
- ChromaDB
- SudachiPy（日本語形態素解析）

## RAGの実装詳細
1. **ドキュメント処理**
   - PDFからのテキスト抽出
   - チャンク分割（512トークン、200トークンのオーバーラップ）
   - メタデータの付与

2. **ハイブリッド検索実装**
   - ChromaDBによるベクトル検索
   - BM25による統計的検索
   - Ensembleリトリーバーによる統合（重み 0.5:0.5）

3. **応答生成**
   - GPT-4による高精度な回答生成
   - 日本語に特化したプロンプト設計
   - 関連性の低い質問に対する適切なフォールバック

## 使用方法
```bash
uv run main.py "あなたの質問をここに入力"
```

## 設定
`config.yaml`でモデルパラメータやリトリーバーの設定をカスタマイズ可能です。
